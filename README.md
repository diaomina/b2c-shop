# **B2C网上购物系统 **



## 一、开发环境

JDK1.8、MySQL5.6、Tomcat8、IDEA2019、Maven3.6、Git

## 二、使用技术

​	前端：html、css、js、jquery、layer、bootstrap

​	后端：SpringBoot、Mybatis

## 三、项目介绍

​	本系统采用B/S架构开发，实现了一个网上购物的平台，追寻现代潮流为消费者提供便捷，改善消费者购物体验。采用了MVC的模式，整个系统分为表现层、业务层、数据访问层，其中model与mapper由Mybatis逆向工程自动生成，通过SpringBoot的Ioc功能将service的实现类注入到控制器中，用户通过游览器发起请求将数据传输到控制器，前后端交互采用Ajax+JSON的方式。系统分为前台与后台，前台主要针对消费者使用，后台管理员进行使用。主要模块如下：

​	前台：登录注册模块、商品查询模块、购物车模块、我的订单模块、支付模块、用户中心模块、用户权限管理模块；

​	后台：管理员登录模块、订单管理模块、商品管理模块、用户管理模块、广告管理模块、管理员权限管理模块；

演示地址（服务器没有做安全，请不要恶意攻击）：

​	a. 前台首页：http://39.108.5.98:8081/goodsAction/goIndex

​	b. 管理员登录： http://39.108.5.98:8081/adminAction/goLogin 

用户账户：user	123456

管理员账户：admin	123456

## 四、功能模块

### 4.1 前台功能模块

#### 4.1.1 登录注册模块

​	（1）注册

​		用户在商城首页可以通过点击[免费注册]的链接进入用户注册界面，用户需要输入正确的基本信息后提交才可以注册成功，前端界面上采用了表单校验，帮助用户正确的输入信息，注册成功后跳转到登录界面。

​	（2）登录

​		用户在商城首页可以通过点击[请登录]的链接进入用户登录界面，登录界面同时提供了注册链接的跳转。用户需要输入正确的基本信息后提交才可以登录成功，前端界面上采用了表单校验，帮助用户正确的输入信息，用户登录后跳转到商城首页，商城首页更新出[用户名]和[退出登录]的链接，[用户名]的链接跳转到用户中心，[退出登录]的链接点击后将会清除用户session，并且跳转到商城首页。

#### 4.1.2 商品查询模块

​	（1）查询全部商品

​		在商城首页会展示出所有商品，包含商品的图片、名称、简要描述、库存、价格等信息，并且通过点击商品图片或者名称会跳转到商品详情页。

​	（2）根据商品种类查询商品

​		在商城上部存在商品种类的导航栏，通过点击商品种类会将该种类和其子种类包含的商品信息展示出来。

​	（3）根据商品名称查询商品

​		在商城顶部提供一个搜索框，用户可以在输入框内输入商品名称并且点击"搜索"按钮后进行商品查询，系统将会根据输入的商品名称进行模糊查询，将符合条件的商品返回到界面展示。

​	（4）商品过滤

​		在（1）、（2）和（3）中所有查询到的商品都需要进行过滤，去除掉下架和已删除的商品，只留下已上架的商品。

​	（5）商品详情

​		在商品详情页将展示商品的图片、名称、简要描述、库存、价格等信息，并且提供[立即订购]按钮，用户可以在[购买数量]中选择订购该商品的数量，该数量由js函数进行限制，最低不少于1，最高不大于库存数量。通过点击[立即订购]按钮将商品加入购物车，订购成功或者失败都会弹出相对应得消息提示。

#### 4.1.3 购物车模块

​	（1）商品列表展示

​		a. 商品图片、名称、简要描述、库存、价格、数量等信息展示；

​		b. 通过js函数计算每列商品单价*数量后得价格，将价格显示到小计列；

​		c. 商品数量提供增加和减少的按钮，购物车内商品数量的更新存在持久性，将会同步至数据库。

​	（2）商品删除

​		用户可以通过点击[删除]实现删除所在列的商品，这一列商品将会从购物车内消失。

​	（3）结算

​		将用户所选中的商品的数量和总价计算出，并且显示在界面。用户点击结算按钮后将选中的商品上传到系统，并且跳转到创建订单界面。

#### 4.1.4 我的订单模块

​	（1）订单创建

​		a. 确认收货地址，在订单创建界面会展示该用户所有的收货地址，通过单选按钮选择，单选按钮默认选中默认地址。并且提供[管理收		货地址]的链接跳转到地址管理。

​		b. 确认订单信息，会向用户展示出结算的所有商品，包含商品图片、名称、描述、单价、数量、小计。并且点击商品名称可以跳转到该商品的详情页。

​		c. 在提交订单部分，将通过js函数计算出订单总金额显示到界面，并且提供[返回购物车]的链接和提交订单按钮。点击[提交订单]后将跳转至待付款订单界面，并且在购物车内去除订单商品。

​	（2）待付款订单

​		a. 订单信息展示，将展示出所有待付款订单，订单信息包含商品图片、商品名称、商品数量、收货地址、订单总金额、下单时间。

​		b. 操作栏，提供三个操作按钮，分别是[账户余额支付]、[支付宝支付]、[取消订单]，用户可以通过这些按钮完成支付操作或者是取消订单操作。完成支付后订单将从该界面消失出现在待发货订单界面，取消订单将从该界面删除，并且购物车内不会返回订单内商品。

​	（3）待发货订单

​		订单信息展示，用户完成付款后的订单将会展示到该界面，订单信息包含商品图片、商品名称、商品数		量、收货地址、订单总金额、下单时间。该界面没有操作栏，需要等待后台执行确认发货操作，确认发货后		订单将从该界面消失出现在待收货订单界面。

​	（4）待收货订单

​		a. 订单信息展示，后台执行确认发货操作的订单将会展示在此界面，订单信息包含商品图片、商品名称、商品数量、收货地址、订单总金额、下单时间、发货时间。

​		b. 操作栏，提供确认收货的按钮，用户可以在收到购买的商品后通过点击[确认收货]按钮完成收货操作，点击[确认收货]按钮后订单将会从该界面消失出现在已完成订单界面。

​	（5）已完成订单

​		a. 订单信息展示，用户执行确认收货操作的订单将会展示在此界面，订单信息包含商品图片、商品名称、商品数量、收货地址、订单总金额、下单时间、发货时间。

​		b. 操作栏，提供一个删除按钮，用户可以通过点击删除按钮将该订单删除，删除后订单信息从该界面消失，且不可恢复。

​	（6）订单过滤

​		在（1）、（2）、（3）、（4）、（5）中所有查询到的订单都需要进行过滤，去除已删除的订单，只留下未删除的订单。

#### 4.1.5 支付模块

​	（1）账户余额支付

​		a. 判断商品库存，在待付款订单界面中提供账户余额支付按钮，用户通过点击[账户余额支付]按钮进行支付操作，该操作会首先判断商品库存是否充足，若不足将直接返回待付款订单界面，并且弹出“很抱歉，库存不足，无法支付!”的消息提醒。

​		b. 判断用户账户余额，若商品库存充足将会判断账户余额是否足够完成支付，若不足将直接返回待付款订单界面，并且弹出“您的余额不足，请充值!”的消息提醒。若账户余额充足，将会进行支付操作，将订单信息修改为已支付且更新至数据库。

​		c. 判断订单信息更新，若更新失败将直接返回待付款订单界面，并且弹出“支付失败!”的消息提醒。若成功将会更新商品数量，将购买的商品数量在库存中减去。

​		d. 判断商品库存更新，若更新失败将重新获取最新的商品库存信息进行扣除后继续更新，直到更新成功，若获取到的最新的商品库存数量不足将把订单金额退还到用户账户余余额，退还成功或者失败都将直接返回待付款订单界面，账户余额退还成功将弹出“很抱歉，库存不足，钱款已退还至您的账户!”的消息提醒，失败则弹出“很抱歉，库存不足，钱款退还失败，请与拨打联系电话联系我们!”的消息提醒。若商品库存信息更新成功将会把订单号通过server酱发送消息提醒到管理员微信。

​		e. 支付成功，将会返回待付款订单界面，并且在界面上弹出“支付成功!”的消息提醒，同时该订单将会从待付款订单界面消失出现在待发货订单界面。

​	（2）支付宝支付

​		用户在待付款订单界面点击支付宝支付按钮后会跳转到支付宝付款界面，通过扫描二维码完成支付后将进行订单信息更新和商品库存更新。若更新成功将会通过server酱将订单号发送到管理员微信且跳转回待付款订单界面。若付款成功该订单会从待付款订单界面消失出现在待发货订单，若失败则不做订单信息更新和商品库存更新操作。

#### 4.1.6 用户中心模块

​	（1）我的信息

​		a. 用户信息展示，将会在界面上显示登录用户的个人信息，包含：用户名、性别、手机、地址。

​		b. 用户信息修改，用户可以通过重新在表单输入数据，通过js函数校验用户输入的数据，帮助用户填入正确的信息，点击保存按钮后将会将新数据更新至数据库。若成功将会弹出“保存成功!”的消息提醒，若失败将会弹出“保存失败!”。

​	（2）修改密码

​		用户通过点击用户中心左侧导航栏的[修改密码]链接进入修改密码的界面，用户需要输入新密码和确认密码两次，通过通过js函数校验用户输入的新密码，以保证用户填入合法的密码，点击[保存]按钮后将会将信息通过md5加密后更新至数据库。若成功将会弹出“修改成功!”的消息提醒，若失败将会弹出“修改失败!”。

​	（3）地址管理

​		a. 地址信息展示，用户通过点击用户中心左侧导航栏的[地址管理]链接进入地址管理的界面，界面上将会展示该用户所有的地址信息，包含收货人、手机号码、所在地区、详细地址、是否为默认地址。

​		b. 添加地址，用户点击[添加地址]按钮后将会弹出添加地址的弹窗界面，表单通过js函数进行校验，保证数据的合法性。输入新地址后点击提交将会将数据添加到数据库并且关闭弹窗界面，若添加成功将会弹出“添加成功,请刷新!”的消息提醒，若失败则弹出“添加失败!”。

​		c. 操作栏，包含三个功能按钮，分别是：[设为默认地址]、[编辑]、[删除]，通过这三个功能按钮用户可以对自己的地址进行管理。

​	（4）账户余额

​		用户通过点击用户中心左侧导航栏的[账户余额]链接进入账户余额的界面，该界面会显示出该用户的余额，并且提供充值的操作。用户可以通过在输入框中填入合法的充值金额，然后点击[充值]按钮后进行余额的充值，输入的金额将会由js函数进行校验，若不合法将会弹出对应的消息提醒且无法进行充值。

#### 4.1.7 用户权限管理模块

​		实现用户在没有登录的情况下只可以对商城首页、登录界面、注册界面、商品详情界面进行访问且可以进行商品查询操作，当点击进入其他界面的操作或者是发出其他请求时，将会进行拦截，若没有登录将会直接跳转到用户登录界面，若登录则进行正常的访问。

### 4.2 后台功能模块

#### 4.2.1 管理员登录模块

​	（1） 登录

​		通过访问后台登录界面可以进行登录操作，登录表单通过js函数进行校验，保证数据合法性。同时后端将会对用户名是否存在、密码是否正确进行校验，若失败则会在登录界面弹出对应的消息提醒。登录成功将会把管理员信息保存到session且跳转到后台首页。

​	（2）登录信息展示

​		在后台顶栏中显示出当前登录管理员的用户名，点击用户名将会弹出[切换账户]、[退出]的导航链接。

​	（3）切换账户

​		管理员点击[切换账户]的将会直接跳转到后台登录界面，可以重新进行登录或者直接返回后台，不会清除session。

​	（4）退出

​	管理员点击[退出]后将会清除登录的session，并且跳转到后台登录界面。

#### 4.2.2 订单管理模块

​	（1）订单信息展示

​		显示所有订单的信息，包含序号、订单号、所购商品（商品图片、名称、数量）、订单总金额、支付状态、物流状态、下单时间、发货时间、购买账户。每列订单都有一个操作栏，包含[编辑]和[删除]操作按钮，其中已付款的订单除开两个基本操作按钮还有一个[确认发货]按钮。在列表上部显示总共的订单数量，并且提供一个检索框，管理员可以通过输入信息搜索符合条件的订单。表格可以自由选择顺序和倒序的排列方式。

​	（2）确认发货

​		点击[确认发货]按钮后，将会出现发货时间，并且订单物流状态将更新为[已配送]。点击之后发货成功的话这个按钮将会消失。

​	（3）订单编辑

​		点击[编辑按钮]时，将会弹出订单信息编辑弹窗界面，界面表单会自动填充原始数据，包含：订单号、订单总金额、收货人姓名、手机号码、所在地区、详细地址。其中订单号为不可编辑状态，其他信息皆可修改，当输入完合法的新数据后，点击提交即可同步至数据库，并且会自动关闭编辑弹窗界面。

​	（4）订单删除

​		在每列订单操作栏内都有[删除]按钮，点击[删除]按钮会弹出"确认要删除吗？"的确认框吗，点击确认后才执行删除操作，取消则不做操作。执行成功后该订单将从该界面消失。

​		在订单列表上部提供一个[批量删除]的按钮，管理员可以通过列表左侧的复选框选择需要删除的订单，点击[批量删除]按钮后，将会把选中的订单删除，被删除的订单从列表中去除。

#### 4.2.3 商品管理模块

​	（1）商品种类管理

​		a. 种类信息展示，展示所有未删除的商品种类信息，包含序号、父种类名称、种类名称、简要描述、创建者、创建时间、修改时间、状态。显示种类的数量，并且提供检索框。

​		b. 种类添加，在列表上方提供一个[添加种类]按钮，点击按钮将会弹出添加种类的窗口，表单信息包含了：种类名称、父种类名称、简要描述，其中简要描述是可选填，其他皆为必填。输入合法数据点击[提交]按钮即可添加种类，点击[重置]按钮将会清空表单信息，需要重新输入。

​		c. 种类状态更新，通过[启用]、[停用]按钮可以改变种类的状态，其中状态为[已启用]的种类的操作栏内是[停用]按钮，[已停用]状态的种类的操作栏内是[启用]按钮，会根据不同的状态动态变化按钮。

​		d. 种类编辑，每列种类后的操作栏内提供[编辑]按钮，点击编辑按钮将会弹出种类编辑的弹窗界面，界面表单会自动填入原始数据，管理员输入合法的新数据点击[提交]按钮即可完成种类修改，点击[重置]按钮将会将表单恢复原始数据。

​		e. 种类删除，每列种类后的操作栏内提供[删除]按钮，点击[删除]按钮将会弹出“确认要删除吗?”的确认框，点击[确认]将删除该种类，该种类从界面消失且不可恢复。点击[取消]不做任何操作。

​	（2）商品管理

​		a. 商品信息展示，展示所有未删除的商品信息，包含商品ID、商品名称、所属种类、商品图片、商品单价、商品数量、简要描述、创建者、创建时间、更新时间、状态。显示总的商品个数并且提供检索框。

​		b. 添加商品，点击[添加商品]的按钮将会弹出添加商品的弹窗界面，界面表单包含的信息有：商品名称、商品种类、商品单价、库存数量、商品图片、简要吗，描述。管理员输入合法数据后点击[提交]按钮即可完成商品的添加，点击[重置]按钮将会清空表单信息。添加成功或者失败将在界面弹出对应的消息提醒。

​		c. 更新商品状态，在每列操作栏内通过点击[上架]、[下架]按钮可以改变商品的状态，其中状态为[已上架]的商品的操作栏内是[下架]按钮，[已停用]状态的商品的操作栏内是[上架]按钮，会根据不同的状态动态变化按钮。

​		d. 编辑商品，点击操作栏内[编辑]按钮将会弹出修改该商品的弹窗界面，界面表单将会自动填充原始数据，管理员输入新数据后通过点击[提交]按钮更新商品数据到数据库，点击[重置]按钮将会恢复表单的原始数据。编辑成功或者失败都将会弹出对应的消息提醒。

​		d. 删除商品，点击操作栏内[删除]按钮将会弹出确认框，点击[确认]将删除该商品，商品从界面消失且不可恢复。点击[取消]不做任何操作。

#### 4.2.4 用户管理模块

​	（1）用户信息展示

​		将展示所有未删除的用户信息，包含：序号、用户名、账户余额、性别、手机、注册地址、入录时间、修改时间、状态。显示总的用户数量，并且提供检索框，输入信息可以模糊查询符合条件的用户。

​	（2）用户添加

​		点击[添加用户]的按钮将会弹出添加用户的弹窗界面，界面表单信息包含：用户名、密码、性别、手机、地址。管理员输入合法的数据点击[提交]按钮即可添加用户，点击[重置]按钮将会清空表单。添加成功或者失败将会在用户列表界面弹出对应的消息提醒。

​	（3）用户状态更新

​		在每列操作栏内通过点击[启用]、[停用]按钮可以改变用户的状态，其中状态为[已启用]的用户的操作栏内是[停用]按钮，[已停用]状态的用户的操作栏内是[启用]按钮，会根据不同的状态动态变化按钮。

​	（4）用户编辑

​		每列用户的操作栏上有一个[编辑]按钮，通过点击[编辑]弹出用户编辑界面，界面表单将会自动填充原始数据，输入完整且合法的数据后点击[提交]可以更新用户数据，点击[重置]将会将表单恢复为原始数据。更新成功或者失败将会在用户列表界面弹出消息提醒。

​	（5）修改密码

​		每列用户的操作栏上有一个[修改密码]按钮，通过该按钮管理员可以方便快捷的帮助忘记密码的用户进行修改密码，点击[修改密码]按钮后将会弹出修改密码的界面，界面表单包含：用户名、新密码、确认密码，其中用户名为不可编辑状态，表单将会自动填充原始数据。正确输入合法的数据后点击[提交]即可修改密码，点击[重置]将会恢复表单原始数据。修改成功或者失败可以在界面收到对应的消息提醒。

#### 4.2.5 广告管理模块

​	（1）广告信息展示

​		将在界广告列表界面展示所有未删除的广告信息，包含：序号、广告图像、广告描述、广告链接、创建者、创建时间、更新时间、状态。显示总计的广告数量并且提供检索框。状态为[开启]且未删除的广告将会在前台商城首页广告位置进行轮播，若没有广告的情况下商城广告将调用默认广告。

​	（2）广告添加

​		点击[添加广告]按钮将弹出添加广告的界面，界面表单包含广告链接、广告描述、广告图像。其中广告链接的输入框将自动填充"/goodsAction/goGoodsDetail?goodsId=商品ID"的初始值，管理员只需要修改部分即可。同时上传的图片提供图像预览功能。点击[提交]按钮进行广告的添加，点击[重置]按钮将会恢复表单初始数据。添加成功或者失败都将会弹出对应的消息提醒。

​	（3）广告状态更新

​		在每列操作栏内通过点击[开启]、[关闭]按钮可以改变广告的状态，其中状态为[开启]的广告的操作栏内是[关闭]按钮，[关闭]状态的广告的操作栏内是[开启]按钮，会根据不同的状态动态变化按钮。

​	（4）广告编辑

​	（5）广告删除

#### 4.2.6 管理员权限管理模块

​		实现管理员在没有登录的情况下只可以对后台登录界面进行访问且可以进行登录操作，当点击进入其他界面的操作或者是发出其他请求时，将会进行拦截，若没有登录将会直接跳转到后台登录界面，若登录则进行正常的访问。



